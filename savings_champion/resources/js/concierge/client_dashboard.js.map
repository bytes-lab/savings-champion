{"version":3,"sources":["concierge/client_dashboard.coffee"],"names":[],"mappings":"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","file":"concierge/client_dashboard.js","sourceRoot":"/source/","sourcesContent":["csrftoken = $.cookie('csrftoken');\n\ncsrfSafeMethod = (method) ->\n\n  # these HTTP methods do not require CSRF protection\n  /^(GET|HEAD|OPTIONS|TRACE)$/.test method\n\n$.ajaxSetup\n  crossDomain: false # obviates need for sameOrigin test\n  cache: false\n  beforeSend: (xhr, settings) ->\n    xhr.setRequestHeader \"X-CSRFToken\", csrftoken  unless csrfSafeMethod(settings.type)\n    return\n\nclient_details_success = (data, textStatus, jqXHR) ->\n  $('.js-client-details').html data\n  return\n\nclient_details = () ->\n  data_source = $('.js-client-details')\n  data_url = data_source.data 'url'\n  client_id = data_source.data 'clientId'\n  $.post data_url, client_id: client_id, client_details_success, 'html'\n  return\n\nclient_notes_success = (data, statusText, jqXHR) ->\n  $('.js-client-notes').html data\n  return\n\nclient_notes = () ->\n  data_source = $('.js-client-notes-form')\n  data_url = data_source.attr 'action'\n  $.post data_url, data_source.serialize(), client_notes_success, 'html'\n  return\n\nload_concierge_engine_success = (data, textStatus, jqXHR) ->\n  $('.engine-root').html(data)\n  return\n\nload_concierge_engine = (event) ->\n  event_target = $(event.target)\n  data_url = event_target.data 'url'\n  $.get data_url, '', load_concierge_engine_success, 'html'\n  return\n\nsave_client_details_success = (data) ->\n  $('#lead-capture').html data\n  return\n\nsave_client_details = (event) ->\n  event_target = $(event.target)\n  event_target.removeClass 'btn-success'\n  event_target.addClass 'btn-info'\n  event_target.val 'Saving'\n  parent_form = $('#lead-capture').find 'form'\n  data_url = event_target.data 'url'\n  $.post data_url, parent_form.serialize() , save_client_details_success, 'html'\n  return\n\n$('body').on 'click', 'input[name=\"update-user-options\"]', client_details\n$('body').on 'click', 'input[name=\"update-user-notes\"]', client_notes\n$('body').on 'click', 'input.js-load-concierge-engine', load_concierge_engine\n$('body').on 'click', 'input.js-save-client-details', save_client_details"]}