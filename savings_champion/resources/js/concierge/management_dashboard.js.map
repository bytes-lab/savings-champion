{"version":3,"sources":["concierge/management_dashboard.coffee"],"names":[],"mappings":"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","file":"concierge/management_dashboard.js","sourceRoot":"/source/","sourcesContent":["filter_data = ->\n  data_object = {}\n  if $('#id_start_date').val() != ''\n    data_object['start_date'] = $('#id_start_date').val()\n  if $('#id_end_date').val() != ''\n    data_object['end_date'] = $('#id_end_date').val()\n  if $('#id_end_date').val() != ''\n    data_object['referrer'] = $('#id_referrer').val()\n  data_object\n\nupdate_statistics = ->\n  data_url = $('#statistics').data('url')\n  console.log data_url\n  data_object = filter_data()\n  $.ajax data_url,\n    method: 'get'\n    dataType: 'html'\n    cache: false\n    success: (html, status, jqxhr) ->\n      $('#statistics').html(html)\n      return\n    data: data_object\n  return\n\nupdate_advisor_workload = ->\n  data_url = $('#adviser_workload').data('url')\n  data_object = filter_data()\n  console.log data_url\n  $.ajax data_url,\n    method: 'get'\n    dataType: 'html'\n    cache: false\n    success: (html, status, jqxhr) ->\n      $('#adviser_workload').html(html)\n      return\n    complete: ->\n      $('.icon-refresh-animate').removeClass('icon-refresh-animate')\n      return\n    data: data_object\n  return\n\nupdate_source_pipeline = ->\n  data_url = $('#source-pipeline').data('url')\n  data_object = filter_data()\n  console.log data_url\n  $.ajax data_url,\n    method: 'get'\n    dataType: 'html'\n    cache: false\n    success: (html, status, jqxhr) ->\n      $('#source-pipeline').html(html)\n      return\n    complete: ->\n      $('.icon-refresh-animate').removeClass('icon-refresh-animate')\n    data: data_object\n  return\n\nupdate_adviser_timing = ->\n  data_url = $('#adviser-timings').data('url')\n  data_object = filter_data()\n  console.log data_url\n  $.ajax data_url,\n    method: 'get'\n    dataType: 'html'\n    cache: false\n    success: (html, status, jqxhr) ->\n      $('#adviser-timings').html(html)\n      return\n    complete: ->\n      $('.icon-refresh-animate').removeClass('icon-refresh-animate')\n      return\n    data: data_object\n  return\n\n\nupdate_statistics()\nupdate_advisor_workload()\nupdate_source_pipeline()\nupdate_adviser_timing()\n\n\nbutton_ajax = (element, button_text, old_class, new_class, log_text) ->\n  console.log log_text\n  $(element).removeClass old_class\n  $(element).addClass new_class\n  $(element).val button_text\n  update_statistics()\n  update_advisor_workload()\n  return\n\n$('body').on \"click\", \"span.js-refresh-advisor-workload\", (event) ->\n  $(event.target).addClass('icon-refresh-animate')\n  update_statistics()\n  update_advisor_workload()\n  return\n\n$('body').on \"click\", \"span.js-refresh-source-pipeline\", (event) ->\n  $(event.target).addClass('icon-refresh-animate')\n  update_statistics()\n  update_source_pipeline()\n  return\n\n$('body').on \"click\", \"span.js-refresh-adviser-timing\", (event) ->\n  $(event.target).addClass('icon-refresh-animate')\n  update_statistics()\n  update_adviser_timing()\n  return\n\n$('body').on 'click', '#button-id-filter', (event) ->\n  update_statistics()\n  update_advisor_workload()\n  update_source_pipeline()\n  update_adviser_timing()\n  return\n\n$('body').on 'click', '.js-unsuitable-reasons', (event) ->\n  url = $(event.target).data 'reasonsUrl'\n  window.location = url\n  return\n\n$('#id_start_date').tooltip\n  title: 'Date should be of the form: YYYY-MM-DD. Date is inclusive.'\n$('#id_end_date').tooltip\n  title: 'Date should be of the form: YYYY-MM-DD. Date is inclusive'"]}