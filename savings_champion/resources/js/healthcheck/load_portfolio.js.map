{"version":3,"sources":["healthcheck/load_portfolio.coffee"],"names":[],"mappings":"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","file":"healthcheck/load_portfolio.js","sourceRoot":"/source/","sourcesContent":["reloadPage = ->\n  \"use strict\"\n  \n  window.setTimout ->\n    location.reload false\n    null\n  , 500\n  null\n\nhideProductForm = ->\n  \"use strict\"\n  $(\".js-variable-product-form\").modal('hide')\n  $(\".js-fixed-product-form\").modal('hide')\n\nisotopeFilterSetUp = ->\n  \"use strict\"\n  $(\".portfolios\").isotope\n    layoutMode: 'straightDown'\n    resizable: true\n    animationEngine: \"best-available\"\n    getSortData:\n      balance: ($elem) ->\n        Number $elem.find(\".balance\").text().replace(/[^0-9\\.]+/g, \"\")\n\n      provider: ($elem) ->\n        $elem.find(\".provider\").text().replace RegExp(\" \", \"g\"), \"\"\n\n  $(\".filters li\").click ->\n    $(this).parent().parent().find(\".active\").removeClass \"active\"\n    selector = $(this).attr(\"data-filter\")\n    ga \"send\", \"event\", \"Portfolio\", \"Filter\", selector  if ga\n    $(\".portfolios\").isotope filter: selector\n    $(this).addClass \"active\"\n    total = 0\n    selector = \".product-box\"  if selector is \"*\"\n    $(selector).each ->\n      total += Number($(this).find(\".balance\").text().replace(/[^0-9\\.]+/g, \"\"))\n\n    $(\".portfolio-total\").html \"<p>Total: £\" + total.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \"</p>\"\n    false\n\n  $(\".balance-sort\").click ->\n    ascending = $(this).attr(\"asc\")\n    if ascending is true\n      $(\".portfolios\").isotope\n        sortBy: \"balance\"\n        sortAscending: true\n\n      $(this).attr \"asc\", \"false\"\n    else\n      $(\".portfolios\").isotope\n        sortBy: \"balance\"\n        sortAscending: false\n\n      $(this).attr \"asc\", \"true\"\n    false\n\n  $(\".provider-sort\").click ->\n    $(\".portfolios\").isotope\n      sortBy: \"provider\"\n      sortAscending: true\n\n    false\n\n  $(\".reset-sort\").click ->\n    $(\".portfolios\").isotope\n      sortBy: \"original-order\"\n      sortAscending: true\n\n\n    false\n  return\n\n$(\"body\").on 'click', '.opening-date-click', ->\n  $('.js-opening-date-form').modal('show')\n\n$(\"body\").on 'click', '.apply-now-click', ->\n  $(\"#add-variable-products\").hide()\n  $(\"#add-fixed-products\").show()\n  ga \"send\", \"event\", \"Portfolio\", \"Apply\", \"Clicked\"  if ga\n\n$(\"body\").on 'click', '.updateportfolio', ->\n  provider = $(this).closest(\".product-box\").find(\".provider\").text()\n  product = $(this).closest(\".product-box\").find(\".product\").text()\n  balance = $(this).closest(\".product-box\").find(\".balance\").text()\n  balance = balance.replace(/,/g, \"\")\n  id = $(this).closest(\".product-box\").find(\".id-info\").text()\n  $(\".editbalance\").val balance\n  $(\".providerEditField\").html provider\n  $(\".productEditField\").html product\n  $(\".portfolioeditid\").val id\n  $(\".js-edit-variable-product-form\").modal('show')\n  ga \"send\", \"event\", \"Portfolio\", \"Variable\", \"Edit\"  if ga\n\n\n$(\"body\").on 'click', \".print-button\", ->\n  ga \"send\", \"event\", \"Portfolio\", \"Display\", \"Portfolio Printed\"  if ga\n  printContents 'portfolio-container'\n  return false\n\n$(\"body\").on 'click', \".opening-date-click\", ->\n  id = $(this).closest(\".product-box\").find(\".id-info\").text()\n  $(\"#id_portfolio_id\").val id\n\n$(\"body\").on 'click', '.delete', ->\n  $(\".yes-link\").attr \"id\", $(this).closest(\".product-box\").find(\".id-info\").text()\n  maturity = $(this).closest(\".product-box\").find(\".maturitydate\").text()\n  $(\".yes-link\").attr \"is_fixed\", true  if maturity\n  $('.js-delete-box-modal').modal('show')\n\n$(\"body\").on 'click', '.yes-link', ->\n  $.post \"/best-buys/ajax/deleteportfolio/\",\n    id: $(this).attr(\"id\")\n    fixed: $(this).attr(\"is_fixed\")\n  , (data) ->\n    $(\".js-delete-box-modal-content\").html data\n    return\n  ga \"send\", \"event\", \"Portfolio\", \"Product\", \"Deleted\"  if ga\n  false\n\n$(\"body\").on 'click', '.updatereminder', ->\n  provider = $(this).closest(\".product-box\").find(\".provider\").text()\n  product = $(this).closest(\".product-box\").find(\".account-type\").text()\n  balance = $(this).closest(\".product-box\").find(\".balance\").text()\n  rate = $(this).closest(\".product-box\").find(\".rate\").text()\n  balance = balance.replace(/,/g, \"\")\n  id = $(this).closest(\".product-box\").find(\".id-info\").text()\n  $(\"#reminder_balance\").val balance\n  $(\"#id_rate\").val rate\n  $(\".providerEditField\").html provider\n  $(\".productEditField\").html product\n  $(\"#reminder_id\").val id\n  $(\".js-edit-fixed-product-form\").modal('show')\n  ga \"send\", \"event\", \"Portfolio\", \"Fixed\", \"Edit\"  if ga\n\n$(\"body\").on 'click', '.js-add-variable-product-button', ->\n  $('.js-variable-product-form').modal('show')\n  ga \"send\", \"event\", \"Portfolio\", \"Variable\", \"New\"  if ga\n\n$(\"body\").on 'click', '.js-add-fixed-product-button', ->\n  $('.js-fixed-product-form').modal('show')\n  ga \"send\", \"event\", \"Portfolio\", \"Fixed\", \"New\"  if ga\n\n$(\"body\").on 'click', '.arrow > img', (event) ->\n  console.log('arrow clicked')\n  event_target = $(event.target)\n  product_box = event_target.closest(\".product-box\")\n  closed = event_target.attr \"closed\"\n  console.log(closed)\n  if closed is 'true'\n    console.log('Evaluated as closed')\n    product_box.find(\".panel-body\").show()\n    event_target.attr \"closed\", 'false'\n    product_box.find('.arrow').find(\".closed-arrow-img\").hide()\n    product_box.find('.arrow').find(\".expanded-arrow-img\").show()\n\n  else\n    console.log('Evaluated as not closed')\n    product_box.find(\".panel-body\").hide()\n    event_target.attr \"closed\", 'true'\n    product_box.find('.arrow').find(\".closed-arrow-img\").show()\n    product_box.find('.arrow').find(\".expanded-arrow-img\").hide()\n  $(\".portfolios\").isotope \"reLayout\"\n  return false\n\n$(\"body\").on \"click\", \".close-all\", ->\n  ga \"send\", \"event\", \"Portfolio\", \"Display\", \"All minimised\"  if ga\n  $(\".product-box > .panel-body\").hide()\n  $(\".arrow\").attr \"closed\", true\n  $(\".expanded-arrow-img\").hide()\n  $(\".closed-arrow-img\").show()\n  $(\".closed-balance\").show()\n  $(\".closed-maturity-date\").show()\n  $(\".portfolios\").isotope \"reLayout\"\n  return false\n\n$(\"body\").on \"click\", \".expand-all\", ->\n  ga \"send\", \"event\", \"Portfolio\", \"Display\", \"All expanded\"  if ga\n  $(\".product-box > .panel-body\").show()\n  $(\".arrow\").attr \"closed\", false\n  $(\".closed-arrow-img\").hide()\n  $(\".expanded-arrow-img\").show()\n  $(\".closed-balance\").hide()\n  $(\".closed-maturity-date\").hide()\n  $(\".portfolios\").isotope \"reLayout\"\n  return false\n\nprintContents = (id) ->\n  \"use strict\"\n  $(\".portfolios\").isotope('destroy');\n  window.print()\n  false\n\nload_portfolio = ->\n  \"use strict\"\n  isotopeFilterSetUp()\n  $('.js-threshold-form').modal('show')\n  return\n\n$(document).ready load_portfolio\n\nhandle_threshold_save = (data, textStatus, jqXHR) ->\n  if data.status == 'success'\n    $('.js-threshold-form').modal('hide')\n  else\n    $('.js-threshold-form').find('.form-group').addClass('has-error')\n  return\n\n$('body').on 'click', '.js-threshold-form-save', (event) ->\n  event_target = $(event.target)\n  url = event_target.data('url')\n  form = $('.js-threshold-form').find('form')\n  $.post(url, form.serialize(), handle_threshold_save)\n  return\n"]}