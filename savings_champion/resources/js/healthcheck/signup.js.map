{"version":3,"sources":["healthcheck/signup.coffee"],"names":[],"mappings":"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","file":"healthcheck/signup.js","sourceRoot":"/source/","sourcesContent":["checkOpening = (optionValue, parent) ->\n  \"use strict\"\n  $.post \"/best-buys/ajax/checkopening/\",\n    productID: optionValue\n  , (data) ->\n    if data is \"True\"\n      $(parent).find(\".opening-date-group\").show()\n      $(parent).find(\".datestyle\").addClass \"required\"\n      $(parent).find(\".datestyle\").attr \"min\", \"1\"\n    else\n      $(parent).find(\".datestyle\").removeClass \"required\"\n      $(parent).find(\".datestyle\").removeAttr \"min\"\n      $(parent).find(\".opening-date-group\").hide()\n\nretrieveProducts = (provider, balance, parent) ->\n  \"use strict\"\n  $.get \"/best-buys/ajax/retrievepersonalproducts/\",\n    providerid: provider\n    balanceval: balance\n  , (data) ->\n    options = \"\"\n    $.each data, (i) ->\n      options += \"<option value=\\\"\" + data[i][0] + \"\\\">\" + data[i][1] + \"</option>\"\n    checkOpening data[0][0], $(parent).nextAll(\".variable-section\")  if data[0] isnt `undefined`\n    $(parent).nextAll(\".variable-section\").find(\"select.productselect\").append options\n    $(parent).nextAll(\".variable-section\").find(\"select.productselect\").select2 \"enable\", true\n\n\n\nrebindInputChange = ->\n  \"use strict\"\n\n  # Document.ready can't handle the additional fields\n  $(\"select.providerselect\").unbind \"change\"\n  $(\"select.balanceinput\").unbind \"keyup\"\n  $(\"select.productselect\").unbind \"change\"\n  $(\".switch\").unbind \"click\"\n  $(\"select.providerselect\").change ->\n    provider = $(this).val()\n    balance = $(this).nextAll(\".balanceinput\").val().replace(/,/g, \"\")\n    parent = $(this)\n    $(this).nextAll(\".balanceinput\").attr \"value\", balance\n    $(parent).nextAll(\".variable-section\").find(\"select.productselect\").empty()\n    $(parent).nextAll(\".variable-section\").find(\"select.productselect\").select2 \"enable\", false\n    if provider > 0 and balance > 0\n      retrieveProducts provider, balance, parent\n    else\n      $(parent).nextAll(\".variable-section\").find(\"select.productselect\").append \"option value =\\\"0\\\">Please enter your details</option>\"\n    $(parent).nextAll(\".variable-section\").find(\"select.productselect\").select2 \"val\", \"0\"\n\n  $(\"select.balanceinput\").keyup ->\n    provider = $(this).prevAll(\".providerselect\").val()\n    balance = $(this).val().replace(/,/g, \"\")\n    parent = $(this)\n    value = $(this).attr(\"value\")\n    if $(parent).nextAll(\".variable-section\").find(\"select.productselect\").val() < 1\n      $(parent).nextAll(\".variable-section\").find(\"select.productselect\").empty()\n      $(parent).nextAll(\".variable-section\").find(\"select.productselect\").select2 \"enable\", false\n      if provider > 0 and balance > 0\n        retrieveProducts provider, balance, parent\n        $(this).attr \"value\", balance\n      else\n        $(parent).nextAll(\".variable-section\").find(\"select.productselect\").append \"option value =\\\"0\\\">Please enter your details</option>\"\n      $(this).attr \"value\", balance\n      $(parent).nextAll(\".variable-section\").find(\"select.productselect\").select2 \"val\", \"0\"\n\n  $(\"select.productselect\").change ->\n    id = $(this).val()\n    checkOpening id, $(this).parent()\n\n  $(\".switch.to-variable\").click ->\n    $(this).parent().next(\".fixedindicator\").val \"false\"\n    $(this).parent().nextAll(\".fixed-section\").hide()\n    $(this).parent().nextAll(\".variable-section\").show()\n    $(this).parent().nextAll(\"#variable-rate-message\").show()\n    $(this).parent().nextAll(\"#fixed-rate-message\").hide()\n    $(this).addClass \"selected\"\n    $(this).text \"Variable Rate Product\"\n    $(this).next(\".switch.to-fixed\").removeClass(\"selected\").text \"Click to add Fixed Rate Product\"\n    false\n\n  $(\".switch.to-fixed\").click ->\n    $(this).parent().next(\".fixedindicator\").val \"true\"\n    $(this).parent().nextAll(\".variable-section\").hide()\n    $(this).parent().nextAll(\".fixed-section\").show()\n    $(this).parent().nextAll(\"#fixed-rate-message\").show()\n    $(this).parent().nextAll(\"#variable-rate-message\").hide()\n    $(this).addClass \"selected\"\n    $(this).text \"Fixed Rate Product\"\n    $(this).prev(\".switch.to-variable\").removeClass(\"selected\").text \"Click to add Variable Rate Product\"\n    false\n\n$(document).ready ->\n  \"use strict\"\n  $.ajaxSetup beforeSend: (xhr, settings) ->\n    getCookie = (name) ->\n      cookie = undefined\n      cookieValue = undefined\n      cookies = undefined\n      i = undefined\n      cookieValue = null\n      if document.cookie and document.cookie isnt \"\"\n        cookies = document.cookie.split(\";\")\n        i = 0\n        while i < cookies.length\n          cookie = $.trim(cookies[i])\n\n          # Does this cookie string begin with the name we want?\n          if cookie.substring(0, name.length + 1) is (name + \"=\")\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1))\n            break\n          i++\n      cookieValue\n\n    # Only send the token to relative URLs i.e. locally.\n    xhr.setRequestHeader \"X-CSRFToken\", getCookie(\"csrftoken\")  unless /^http:.*/.test(settings.url) or /^https:.*/.test(settings.url)\n\n  $(\".add-more\").click ->\n    $(\".additional-form\").find(\"select.select2-offscreen\").each (index, element) ->\n      $(element).select2 \"destroy\"\n\n    form_count = parseInt($(\"[name=extra_field_count]\").val())\n    provider_options = $(\"#id_provider > option\").clone()\n    op_months = $(\"#id_opening_date_month > option\").clone()\n    op_years = $(\"#id_opening_date_year > option\").clone()\n    account_type_options = $(\"#id_account_type > option\").clone()\n    maturity_months = $(\"#id_maturity_date_month > option\").clone()\n    maturity_years = $(\"#id_maturity_date_year > option\").clone()\n    form_fields = []\n    additional_form = $(\".additional-form\")\n    form_fields[0] = additional_form.find(\"select.providerselect\")\n    form_fields[1] = additional_form.find(\".balanceinput\")\n    form_fields[2] = additional_form.find(\"select.productselect\")\n    form_fields[3] = additional_form.find(\".opening_month\")\n    form_fields[4] = additional_form.find(\".opening_year\")\n    form_fields[5] = additional_form.find(\".accounttype\")\n    form_fields[6] = additional_form.find(\".maturity_month\")\n    form_fields[7] = additional_form.find(\".maturity_year\")\n    form_fields[8] = additional_form.find(\".fixedindicator\")\n    $.each form_fields, (index, value) ->\n      name = $(value).attr(\"name\")\n      $(value).attr \"name\", name + \"_field_\" + form_count\n      $(value).attr \"id\", name + \"_field_\" + form_count\n\n    $(form_fields[0]).append provider_options\n    $(form_fields[3]).append op_months\n    $(form_fields[4]).append op_years\n    $(form_fields[5]).append account_type_options\n    $(form_fields[6]).append maturity_months\n    $(form_fields[7]).append maturity_years\n    additional = additional_form.html()\n    $(this).before additional\n\n    #Put the form fields back to original before chosen\n    $.each form_fields, (index, value) ->\n      original = $(value).attr(\"original\")\n      $(value).empty()\n      $(value).attr \"name\", original\n      $(value).attr \"id\", original\n\n    $(\"#provider_field_\" + form_count).select2 width: \"100%\"\n    $(\"#product_field_\" + form_count).select2 width: \"100%\"\n    $(\"#account_type_field_\" + form_count).select2 width: \"100%\"\n    form_count = form_count + 1\n    $(\"[name=extra_field_count]\").val form_count\n    rebindInputChange()\n    false\n\n  rebindInputChange()"]}